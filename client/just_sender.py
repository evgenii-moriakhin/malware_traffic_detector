import asyncio

import aiohttp


async def send(url):
    # заменить тут на свой pcap файл и отправить на сервер
    with open("no_flood.pcap", "rb") as f:
        data = f.read()
    headers = {"Content-Type": "application/octet-stream"}
    try:
        async with aiohttp.ClientSession() as session:
            async with session.post(url, data=data, headers=headers) as response:
                if response.status == 200:
                    print(f"Data sent to {url}")
                    print(f"Response from server - {await response.read()}")
                else:
                    print(f"Error sending data to {url}: {response.status}")
    except Exception as e:
        print(f"Error sending data to {url}: {repr(e)}\n")


if __name__ == "__main__":
    asyncio.run(send(input("enter server url:\n")))
